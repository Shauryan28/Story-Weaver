<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Serve dist/index.html as the directory index
  DirectoryIndex dist/index.html

  # Redirect root to dist/index.html internally
  RewriteRule ^$ dist/index.html [L]

  # If the request matches a file in dist, serve it
  RewriteCond %{DOCUMENT_ROOT}/dist/$1 -f
  RewriteRule ^(.*)$ dist/$1 [L]

  # If the request matches a directory in dist, serve it
  RewriteCond %{DOCUMENT_ROOT}/dist/$1 -d
  RewriteRule ^(.*)$ dist/$1 [L]

  # SPA Routing: If file/dir doesn't exist, serve dist/index.html
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . dist/index.html [L]
</IfModule>
