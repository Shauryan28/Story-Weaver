<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Prioritize index.php over index.html
  DirectoryIndex index.php index.html

  # 1. Asset Rewriting:
  # If a request for /assets/... or /vite.svg exists in /dist, rewrite it there.
  # logic: check if /dist/$uri exists as a file.
  RewriteCond %{DOCUMENT_ROOT}/dist%{REQUEST_URI} -f
  RewriteRule ^(.*)$ dist/$1 [L]

  # 2. General Fallback (SPA)
  # If not a file/dir, route to index.php (which loads dist/index.html)
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . index.php [L]
</IfModule>
